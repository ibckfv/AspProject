<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - RentalService</title>
    <link rel="stylesheet" href="~/css/style.css" />
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <a href="/">üè† RentalService</a>
            </div>
            <nav id="main-nav">
                <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/apartments">–í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</a>
                <a href="/apartments/add" class="btn-add">+ –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</a>
                <div id="auth-links" style="display: none;">
                    <a href="/apartments/my">–ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</a>
                    <a href="/bookings/my">–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</a>
                    <a href="/home/profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
                    <a href="#" onclick="logout(); return false;">–í—ã—Ö–æ–¥</a>
                </div>
                <div id="guest-links">
                    <a href="/home/login">–í—Ö–æ–¥</a>
                    <a href="/home/register" class="btn-register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>
            </nav>
        </div>
    </header>
    <main>
        @RenderBody()
    </main>
    <footer>
        <p>&copy; 2026 - RentalService</p>
    </footer>
    <script src="~/js/index.js"></script>
    <script>
        (function() {
            const token = localStorage.getItem('token');
            if (token) {
                document.cookie = `token=${token}; path=/; max-age=${60 * 60 * 24 * 7}; SameSite=Lax`;
            }
        })();
        
        document.addEventListener('DOMContentLoaded', function() {
            if (window.updateNavigation) {
                window.updateNavigation();
            }
        });
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
